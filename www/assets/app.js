var monologue,body=document.body,html=document.documentElement,cursor=document.getElementById("cursor"),monologueContainer=document.getElementById("monologueContainer"),fullscreenContainer=document.getElementById("fullscreenContainer"),windowWidth=Math.max(document.documentElement.clientWidth,window.innerWidth||0),windowHeight=Math.max(document.documentElement.clientHeight,window.innerHeight||0);

console.log("Development by Gabe Ferreira");
var playVideo=document.getElementById("playVideo"),backgroundText=document.getElementById("backgroundText");function createVideo(){monologue=document.createElement("video"),monologue.id="monologue";var o=document.createElement("source");o.type="video/mp4",o.src="assets/video/immersive-video.mp4",monologue.appendChild(o),monologue.addEventListener("click",function(){monologue.classList.contains("loaded")&&(monologue.play(),monologue.classList.add("playing"))}),monologueContainer.appendChild(monologue),monologue.load()}function turnBackgroundBlack(){body.classList.add("blackBackground")}function growVideoPlayer(){monologueContainer.classList.add("larger")}function spinVideoPlayer(){monologue.classList.add("spin"),monologue.addEventListener("animationend",function(){monologue.classList.remove("spin")})}function turnBackgroundYellow(){backgroundText.classList.add("disappear"),body.classList.add("yellowBackground"),body.classList.remove("blackBackground")}function shakeTheScreen(){body.classList.add("shake"),body.addEventListener("animationend",function(){body.classList.remove("shake")})}backgroundText.textContent="A proposal for immersive video on the web",setTimeout(function(){backgroundText.classList.add("loaded")},1e3),createVideo(),setTimeout(function(){monologueContainer.className="loaded",cursor.classList.add("loaded")},4e3),monologue.addEventListener("timeupdate",function(){console.log(monologue.currentTime),26<monologue.currentTime&&monologue.currentTime<27&&turnBackgroundBlack(),32<monologue.currentTime&&monologue.currentTime<33&&growVideoPlayer(),38<monologue.currentTime&&monologue.currentTime<39&&spinVideoPlayer(),44<monologue.currentTime&&monologue.currentTime<45&&turnBackgroundYellow(),48<monologue.currentTime&&monologue.currentTime<49&&shakeTheScreen()});
function updateCursorPosition(o){scrollTop=void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop,cursorLeft=o.pageX+"px",cursorTop=o.pageY-scrollTop+"px",cursor.style.top=cursorTop,cursor.style.left=cursorLeft}document.addEventListener("mousemove",function(o){updateCursorPosition(o)}),setTimeout(function(){document.addEventListener("click",function(o){if(console.log(o.target),cursor.classList.contains("pause"))cursor.classList.remove("pause"),monologue.pause();else{if(o.target.classList.contains("siteNotice"))return;cursor.classList.add("pause"),monologue.play()}})},4e3);